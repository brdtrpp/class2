{"version":3,"sources":["meteor://ðŸ’»app/lib/router/router.js"],"names":[],"mappings":"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","file":"/lib/router/router.js","sourcesContent":["Router.configure({\n  layoutTemplate: 'masterLayout',\n  loadingTemplate: 'loading',\n  notFoundTemplate: 'four0',\n  waitOn: function() {\n    return [Meteor.subscribe('calevent'), Meteor.subscribe('attendee')];\n  },\n  onBeforeAction: function () {\n    Session.set('page', Router.current().route.getName());\n    var id = Meteor.userId();\n    Meteor.call('unselect', id);\n    this.next();\n  }\n});\n\nvar requireLogin = function() {\n  if (! Meteor.user()) {\n    this.render('accessDenied');\n    } else {\n    this.next();\n  }\n};\n\nRouter.route('/classes/:id',  function () {\n  this.render(\"eventLink\", {\n    data: function() {\n      var classes = CalEvent.find({owner: this.params.id, canceled: false}).fetch();\n      return classes;\n    },\n  });\n});\n\nRouter.route('/', {\n  name: 'home',\n});\n\nRouter.route('/resetPassword', {name: 'resetPassword'});\n\nRouter.route('/calendar', {\n  name: 'calendar',\n});\n\nRouter.route('/account', {\n  name: 'account'\n});\n\nRouter.route('/account-dashboard', {\n  name: 'getPaid',\n});\nRouter.route('/payment-method', {name: 'payout'});\nRouter.route('/user-profile', {name: 'profileEdit'});\nRouter.route('/my-classes', {\n  name: 'myEvent',\n});\nRouter.route('/my-attend', {name: 'myAttend'});\nRouter.route('/terms', {name: 'terms'});\nRouter.route('/classes', {\n  name: 'eventSearch',\n});\nRouter.route('/company', {name: 'company'});\nRouter.route('/affiliate', {name: 'affiliate'});\nRouter.route('/register', {name: 'register'});\nRouter.route('/crowded', {name: 'grading'});\nRouter.route('/new-class', {name: 'eventInsert'});\nRouter.route('/user/:username', {\n  name: 'profile',\n  data: function() {\n    if (Meteor.user.find({username: this.params.username}).count() == 1) {\n      return Meteor.users({username: this.params.username});\n    } else {\n      return Meteor.users({_id: this.params.username});\n    }\n  }\n});\n\nRouter.route('/class/:_id', {\n  name: 'eventItem',\n  data: function() {\n    return CalEvent.findOne(this.params._id);\n  },\n});\n\n\n\nRouter.route('/a3:affiliate?', {\n  onBeforeAction: function () {\n    Session.set('affiliateId', this.params.affiliate);\n\n    Router.go('/');\n    this.next();\n  },\n});\n\nRouter.onBeforeAction('dataNotFound', {only: 'eventItem'});\nRouter.onBeforeAction(requireLogin, {only: [\n  'getPaid',\n  'payout',\n  'profileEdit',\n  'myEvent',\n  'myAttend',\n  'account'\n]});\n\n"]}